<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  Using git on Small Teams: Best Practices · Josh Lee on the Web
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Josh Lee">
<meta name="description" content="There are a lot of ways to use git to collaborate with other developers. I’ve found the following principles to be useful for keeping my sanity when working with git. My experience has mostly been with small teams of two to six developers, but these principles may apply to any size team. Of course, “best practices” are elusive, and the following is just my established method.

  Commandments:
  
    
    Link to heading
  


Do not commit vendor code.
Do not commit compiled code.
Do not commit commented-out code — just delete it.
Make small commits.
Explain the why, not the what, in your commit message.
Create a new branch for every task / small feature / bug fix.
Rebase instead of merge to resolve conflicts.
Use pull requests. Get reviews.
Do not commit or push directly to the master branch.
Deploy from the master branch to staging.


  “Master” branch only contains reviewed code, merged via PR
  
    
    Link to heading
  

When an entire QA department is not available, the best QA gains can be had by ensuring every single line of code is seen by at least 2 developers before being merged into the master branch.">
<meta name="keywords" content="blog,developer,personal">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Using git on Small Teams: Best Practices">
  <meta name="twitter:description" content="There are a lot of ways to use git to collaborate with other developers. I’ve found the following principles to be useful for keeping my sanity when working with git. My experience has mostly been with small teams of two to six developers, but these principles may apply to any size team. Of course, “best practices” are elusive, and the following is just my established method.
Commandments: Link to heading Do not commit vendor code. Do not commit compiled code. Do not commit commented-out code — just delete it. Make small commits. Explain the why, not the what, in your commit message. Create a new branch for every task / small feature / bug fix. Rebase instead of merge to resolve conflicts. Use pull requests. Get reviews. Do not commit or push directly to the master branch. Deploy from the master branch to staging. “Master” branch only contains reviewed code, merged via PR Link to heading When an entire QA department is not available, the best QA gains can be had by ensuring every single line of code is seen by at least 2 developers before being merged into the master branch.">

<meta property="og:url" content="http://localhost:1313/using-git-on-teams-vcs-best-practices/">
  <meta property="og:site_name" content="Josh Lee on the Web">
  <meta property="og:title" content="Using git on Small Teams: Best Practices">
  <meta property="og:description" content="There are a lot of ways to use git to collaborate with other developers. I’ve found the following principles to be useful for keeping my sanity when working with git. My experience has mostly been with small teams of two to six developers, but these principles may apply to any size team. Of course, “best practices” are elusive, and the following is just my established method.
Commandments: Link to heading Do not commit vendor code. Do not commit compiled code. Do not commit commented-out code — just delete it. Make small commits. Explain the why, not the what, in your commit message. Create a new branch for every task / small feature / bug fix. Rebase instead of merge to resolve conflicts. Use pull requests. Get reviews. Do not commit or push directly to the master branch. Deploy from the master branch to staging. “Master” branch only contains reviewed code, merged via PR Link to heading When an entire QA department is not available, the best QA gains can be had by ensuring every single line of code is seen by at least 2 developers before being merged into the master branch.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2019-03-01T15:59:08+00:00">
    <meta property="article:modified_time" content="2019-03-01T15:59:08+00:00">
    <meta property="article:tag" content="Git">




<link rel="canonical" href="http://localhost:1313/using-git-on-teams-vcs-best-practices/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.css" media="screen">
  



 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      Josh Lee on the Web
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/contact/">Contact me</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/using-git-on-teams-vcs-best-practices/">
              Using git on Small Teams: Best Practices
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2019-03-01T15:59:08Z">
                March 1, 2019
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              5-minute read
            </span>
          </div>
          
          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/for-developers/">For Developers</a></div>

          <div class="tags">
  <i class="fa-solid fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/tags/git/">Git</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        <p>There are a <em>lot</em> of ways to use git to collaborate with other developers. I’ve found the following principles to be useful for keeping my sanity when working with git. My experience has mostly been with small teams of two to six developers, but these principles may apply to any size team. Of course, “best practices” are elusive, and the following is just my established method.</p>
<h2 id="commandments">
  Commandments:
  <a class="heading-link" href="#commandments">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ol>
<li>Do not commit vendor code.</li>
<li>Do not commit compiled code.</li>
<li>Do not commit commented-out code — just delete it.</li>
<li>Make small commits.</li>
<li>Explain the why, not the what, in your commit message.</li>
<li>Create a new branch for every task / small feature / bug fix.</li>
<li>Rebase instead of merge to resolve conflicts.</li>
<li>Use pull requests. Get reviews.</li>
<li>Do not commit or push directly to the master branch.</li>
<li>Deploy from the master branch to staging.</li>
</ol>
<h3 id="master-branch-only-contains-reviewed-code-merged-via-pr">
  “Master” branch only contains reviewed code, merged via PR
  <a class="heading-link" href="#master-branch-only-contains-reviewed-code-merged-via-pr">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>When an entire QA department is not available, the best QA gains can be had by ensuring every single line of code is seen by at least 2 developers before being merged into the master branch.</p>
<h3 id="one-branch-per-featurefixrefactor">
  One branch per feature/fix/refactor
  <a class="heading-link" href="#one-branch-per-featurefixrefactor">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>There are myriad branching strategies all discussed at length online. My recommendation for small, distributed teams without dedicated QA Engineers is to follow a simplified version of the “git-flow” model. Rather than manage the complexity of release and integration branches, the simplified model has feature and fix branches coming off of master and being merged directly back into master. Keeping each feature or concern on a separate branch makes it much simpler to back out of specific changes, to identify the source of bugs, and to understand how the codebase is changing over time.</p>
<h3 id="keep-commits-small">
  Keep commits small
  <a class="heading-link" href="#keep-commits-small">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>Every commit should be as small as possible without breaking functionality, with a good commit message explaining WHY the change was made. For consistency, I like to write commit messages in the present tense, starting with a verb e.g.: “Adds compatibility with Twitter Bootstrap 4.” By keeping commit messages descriptive about the why (rather than the what, which should be self evident in a small commit), other team members can clearly reason about what they might need to change for their future tasks.</p>
<h3 id="dont-commit-commented-out-code">
  Don’t commit commented-out code
  <a class="heading-link" href="#dont-commit-commented-out-code">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The whole point of a VCS (Version Control System) is that you don’t have to do this… the history of you deleting the line is maintained. And if you make a small commit with a good message it will also be easy to find.</p>
<h3 id="deploy-from-the-master-branch">
  Deploy from the master branch
  <a class="heading-link" href="#deploy-from-the-master-branch">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>Deployments should happen from the master branch, not a specific environment or test branch. The same git ref (commit) on master should be deployable to any environment, so that production can be a binary copy of what was tested on staging. Which brings us to…</p>
<h3 id="promote-artifacts-not-code">
  Promote artifacts, not code
  <a class="heading-link" href="#promote-artifacts-not-code">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>Best practices dictate that an “artifact” (or package) be created for staging deployments, and that artifact then be deployed as-is to production, without the build process being re-run. This eliminates a potential avenue for disparity between environments and allows you to always know bit-for-bit what code is running in production.</p>
<h3 id="start-with-a-single-repository-per-product">
  Start with a single repository per product
  <a class="heading-link" href="#start-with-a-single-repository-per-product">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>Large teams can benefit from multiple repositories and a submoduleing system. For teams under ten, I generally prefer to keep all code required to run the entire product in a single repository. This allows the application to be managed in it’s entirety and deployed as a single unit. Internal tools that are re-used between projects should be made available via a package manager such as npm, bower, composer, etc.</p>
<h3 id="dont-commit-vendor-code">
  Don’t commit vendor code
  <a class="heading-link" href="#dont-commit-vendor-code">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>Committing vendor code can cause merge conflicts and disparity with packaged libraries. Vendor code should always be .gitignored and redownloaded directly from the source by a build server. This includes internal tools mentioned above, managed via package manager.</p>
<h3 id="dont-commit-compiledtranspiled-code">
  Don’t commit compiled/transpiled code
  <a class="heading-link" href="#dont-commit-compiledtranspiled-code">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>Compiled files (usually css, js) are often minified and will cause a merge conflict on every merge unless great care is taken to avoid this. Having the build server re-run compilers ensures consistency between environments. ### Only merge using Pull Requests</p>
<p>Merges make for a very messy git history, making it harder to find information about the code. Merges should only happen into master via pull request. If you are working on a feature branch, and there are new commits on master which you would like to include in your branch, use a rebase instead of a merge. With master updated and your feature branch checked out, type <code>git rebase -i master</code> — you’ll be prompted to edit the “TODO” using your preferred command line editor. This lets you squash, rename, or delete (drop) commits.</p>
<h3 id="use-a-soft-reset-for-those-squirrell-moments">
  Use a soft reset for those “squirrell” moments
  <a class="heading-link" href="#use-a-soft-reset-for-those-squirrell-moments">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>As developers, we love to fix things as soon as we see them. If, after coding for a while, you find that you have committed changes in many areas not related to the feature you are currently working on, a soft reset will allow you to completely undo all of the commits while maintaining the changes in your working directory. You can then commit the changes to individual feature/fix branches as necessary. This is also useful when you would like to rebase but also have the option to SPLIT (instead of squashing) commits. From your branch, run:</p>
<pre tabindex="0"><code>git checkout -b my_branchname_backup
git checkout my_branchname
git reset master
</code></pre><p>Thats it. <em><code>my_branchname</code></em> will now be at the last commit on master, and all of your changes will still be there in your working folder.</p>

      </div>


      <footer>
        


        
        
        
        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
      2010 -
    
    2024
     Josh Lee 
    ·
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
